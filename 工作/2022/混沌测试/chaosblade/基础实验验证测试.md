# 环境准备工作

登录10.18.30.32机器，root，Kjy@2018。 

进入/root下，执行命令 

```
nohup java -jar EnvJavaWeb-1.0-SNAPSHOT.jar &
```

开放端口9999。

访问服务地址得到正常响应结果。

```
http://10.18.30.32:9999/basicInfo/serviceInfos?serviceSortName=pcms
```

在目标机器上，通过box安装探针。安装在/opt下。

# 基本命令

```
//查看现场环境
./blade s --type p
//关联操作
./blade prepare jvm --pid=39
//占满操作
./blade c druid connectionpoolfull
//查看状态
./blade s --type c
//销毁实验
./blade destroy 实验id
```

# 网卡相关操作

percent决定了丢包的比例。

```
//网卡某端口丢包 box也可以进行实验
./blade create network loss --percent 70 --interface eth0 --local-port 9999
```

测试机器a访问机器b的指定端口丢包。执行之后，本机访问指定的ip和端口就会失效了。

```
//测试命令 32机器敲入
curl http://10.18.30.45:9999/basicInfo/serviceInfos?serviceSortName=pcms
//执行至45的9999丢包 box也可以进行实验
./blade create network loss --percent 100 --interface eth0 --remote-port 9999 --destination-ip 10.18.30.45
```

